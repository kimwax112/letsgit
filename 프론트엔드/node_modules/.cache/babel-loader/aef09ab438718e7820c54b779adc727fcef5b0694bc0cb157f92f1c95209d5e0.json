{"ast":null,"code":"import { RichUtils, EditorState } from 'draft-js';\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction createStore(initialState) {\n  if (initialState === void 0) {\n    initialState = {};\n  }\n  var state = initialState;\n  var listeners = {};\n  return {\n    subscribeToItem: function subscribeToItem(key, callback) {\n      listeners[key] = listeners[key] || [];\n      listeners[key].push(callback);\n    },\n    unsubscribeFromItem: function unsubscribeFromItem(key, callback) {\n      var listener = listeners[key];\n      if (listener) {\n        listeners[key] = listener.filter(function (currentListener) {\n          return currentListener !== callback;\n        });\n      }\n    },\n    updateItem: function updateItem(key, item) {\n      var _extends2;\n      state = _extends({}, state, (_extends2 = {}, _extends2[key] = item, _extends2));\n      var listener = listeners[key];\n      if (listener) {\n        listener.forEach(function (currentListener) {\n          return currentListener(state[key]);\n        });\n      }\n    },\n    getItem: function getItem(key) {\n      return state[key];\n    }\n  };\n}\nfunction findWithRegex(regex, contentBlock, callback) {\n  // Get the text from the contentBlock\n  var text = contentBlock.getText();\n  var matchArr;\n  var start;\n  // Go through all matches in the text and return the indizes to the callback\n  while ((matchArr = regex.exec(text)) !== null) {\n    if (matchArr.index === regex.lastIndex) {\n      // eslint-disable-next-line no-param-reassign\n      regex.lastIndex += 1;\n    }\n    start = matchArr.index;\n    callback(start, start + matchArr[0].length);\n  }\n}\nvar index = {\n  decodeOffsetKey: function decodeOffsetKey(offsetKey) {\n    var _offsetKey$split = offsetKey.split('-'),\n      blockKey = _offsetKey$split[0],\n      decoratorKey = _offsetKey$split[1],\n      leafKey = _offsetKey$split[2];\n    return {\n      blockKey: blockKey,\n      decoratorKey: parseInt(decoratorKey, 10),\n      leafKey: parseInt(leafKey, 10)\n    };\n  },\n  createLinkAtSelection: function createLinkAtSelection(editorState, url) {\n    var contentState = editorState.getCurrentContent().createEntity('LINK', 'MUTABLE', {\n      url: url\n    });\n    var entityKey = contentState.getLastCreatedEntityKey();\n    var withLink = RichUtils.toggleLink(editorState, editorState.getSelection(), entityKey);\n    return EditorState.forceSelection(withLink, editorState.getSelection());\n  },\n  removeLinkAtSelection: function removeLinkAtSelection(editorState) {\n    var selection = editorState.getSelection();\n    return RichUtils.toggleLink(editorState, selection, null);\n  },\n  collapseToEnd: function collapseToEnd(editorState) {\n    var selection = editorState.getSelection();\n    return EditorState.forceSelection(editorState, selection.merge({\n      anchorKey: selection.getEndKey(),\n      focusKey: selection.getEndKey(),\n      anchorOffset: selection.getEndOffset(),\n      focusOffset: selection.getEndOffset()\n    }));\n  },\n  getCurrentEntityKey: function getCurrentEntityKey(editorState) {\n    var selection = editorState.getSelection();\n    var anchorKey = selection.getAnchorKey();\n    var contentState = editorState.getCurrentContent();\n    var anchorBlock = contentState.getBlockForKey(anchorKey);\n    var offset = selection.getAnchorOffset();\n    var index = selection.getIsBackward() ? offset - 1 : offset;\n    return anchorBlock.getEntityAt(index);\n  },\n  getCurrentEntity: function getCurrentEntity(editorState) {\n    var contentState = editorState.getCurrentContent();\n    var entityKey = this.getCurrentEntityKey(editorState);\n    return entityKey ? contentState.getEntity(entityKey) : null;\n  },\n  hasEntity: function hasEntity(editorState, entityType) {\n    var entity = this.getCurrentEntity(editorState);\n    return Boolean(entity && entity.getType() === entityType);\n  }\n};\nexport { createStore, index as default, findWithRegex };","map":{"version":3,"names":["RichUtils","EditorState","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","createStore","initialState","state","listeners","subscribeToItem","callback","push","unsubscribeFromItem","listener","filter","currentListener","updateItem","item","_extends2","forEach","getItem","findWithRegex","regex","contentBlock","text","getText","matchArr","start","exec","index","lastIndex","decodeOffsetKey","offsetKey","_offsetKey$split","split","blockKey","decoratorKey","leafKey","parseInt","createLinkAtSelection","editorState","url","contentState","getCurrentContent","createEntity","entityKey","getLastCreatedEntityKey","withLink","toggleLink","getSelection","forceSelection","removeLinkAtSelection","selection","collapseToEnd","merge","anchorKey","getEndKey","focusKey","anchorOffset","getEndOffset","focusOffset","getCurrentEntityKey","getAnchorKey","anchorBlock","getBlockForKey","offset","getAnchorOffset","getIsBackward","getEntityAt","getCurrentEntity","getEntity","hasEntity","entityType","entity","Boolean","getType","default"],"sources":["D:/ex2.5/03.14/letsgit/프론트엔드/node_modules/@draft-js-plugins/utils/lib/index.esm.js"],"sourcesContent":["import { RichUtils, EditorState } from 'draft-js';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction createStore(initialState) {\n  if (initialState === void 0) {\n    initialState = {};\n  }\n  var state = initialState;\n  var listeners = {};\n  return {\n    subscribeToItem: function subscribeToItem(key, callback) {\n      listeners[key] = listeners[key] || [];\n      listeners[key].push(callback);\n    },\n    unsubscribeFromItem: function unsubscribeFromItem(key, callback) {\n      var listener = listeners[key];\n      if (listener) {\n        listeners[key] = listener.filter(function (currentListener) {\n          return currentListener !== callback;\n        });\n      }\n    },\n    updateItem: function updateItem(key, item) {\n      var _extends2;\n      state = _extends({}, state, (_extends2 = {}, _extends2[key] = item, _extends2));\n      var listener = listeners[key];\n      if (listener) {\n        listener.forEach(function (currentListener) {\n          return currentListener(state[key]);\n        });\n      }\n    },\n    getItem: function getItem(key) {\n      return state[key];\n    }\n  };\n}\n\nfunction findWithRegex(regex, contentBlock, callback) {\n  // Get the text from the contentBlock\n  var text = contentBlock.getText();\n  var matchArr;\n  var start;\n  // Go through all matches in the text and return the indizes to the callback\n  while ((matchArr = regex.exec(text)) !== null) {\n    if (matchArr.index === regex.lastIndex) {\n      // eslint-disable-next-line no-param-reassign\n      regex.lastIndex += 1;\n    }\n    start = matchArr.index;\n    callback(start, start + matchArr[0].length);\n  }\n}\n\nvar index = {\n  decodeOffsetKey: function decodeOffsetKey(offsetKey) {\n    var _offsetKey$split = offsetKey.split('-'),\n      blockKey = _offsetKey$split[0],\n      decoratorKey = _offsetKey$split[1],\n      leafKey = _offsetKey$split[2];\n    return {\n      blockKey: blockKey,\n      decoratorKey: parseInt(decoratorKey, 10),\n      leafKey: parseInt(leafKey, 10)\n    };\n  },\n  createLinkAtSelection: function createLinkAtSelection(editorState, url) {\n    var contentState = editorState.getCurrentContent().createEntity('LINK', 'MUTABLE', {\n      url: url\n    });\n    var entityKey = contentState.getLastCreatedEntityKey();\n    var withLink = RichUtils.toggleLink(editorState, editorState.getSelection(), entityKey);\n    return EditorState.forceSelection(withLink, editorState.getSelection());\n  },\n  removeLinkAtSelection: function removeLinkAtSelection(editorState) {\n    var selection = editorState.getSelection();\n    return RichUtils.toggleLink(editorState, selection, null);\n  },\n  collapseToEnd: function collapseToEnd(editorState) {\n    var selection = editorState.getSelection();\n    return EditorState.forceSelection(editorState, selection.merge({\n      anchorKey: selection.getEndKey(),\n      focusKey: selection.getEndKey(),\n      anchorOffset: selection.getEndOffset(),\n      focusOffset: selection.getEndOffset()\n    }));\n  },\n  getCurrentEntityKey: function getCurrentEntityKey(editorState) {\n    var selection = editorState.getSelection();\n    var anchorKey = selection.getAnchorKey();\n    var contentState = editorState.getCurrentContent();\n    var anchorBlock = contentState.getBlockForKey(anchorKey);\n    var offset = selection.getAnchorOffset();\n    var index = selection.getIsBackward() ? offset - 1 : offset;\n    return anchorBlock.getEntityAt(index);\n  },\n  getCurrentEntity: function getCurrentEntity(editorState) {\n    var contentState = editorState.getCurrentContent();\n    var entityKey = this.getCurrentEntityKey(editorState);\n    return entityKey ? contentState.getEntity(entityKey) : null;\n  },\n  hasEntity: function hasEntity(editorState, entityType) {\n    var entity = this.getCurrentEntity(editorState);\n    return Boolean(entity && entity.getType() === entityType);\n  }\n};\n\nexport { createStore, index as default, findWithRegex };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}